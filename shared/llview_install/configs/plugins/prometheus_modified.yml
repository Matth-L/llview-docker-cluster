prometheus:
  hostname: prometheus:9090
  credentials: "none"

  # Different (XML) files to be created can be given here
  files:
    cpus:
      LML: "./cores_LML.xml"
      type: "cpuinfo"
      regex: '^(.+):.*$'
      prefix: "cpu"
      metrics:
        coreidle:
          query: >
              sum by (instance, cpu) (
                irate(node_cpu_seconds_total{instance="c1:9100", cpu="1", mode="idle"}[5m])
                or irate(node_cpu_seconds_total{instance="c2:9100", cpu="2", mode="idle"}[5m])
                or irate(node_cpu_seconds_total{instance="c3:9100", cpu="3", mode="idle"}[5m])
              )
          default: 0
          cache: true # Keep query result in memory to use later
      mapping:
        cpu_ts: "cpu_ts"
        id: "name"
        usage: "usage"
        physcoresused: "physcoresused"
        logiccoresused: "logiccoresused"

    cores:
      LML: "./cores.percore_LML.xml"
      type: "coreinfo"
      regex: '^(.+):.*$'
      prefix: "ci"
      metrics:
        coreidle:
          query: >
              sum by (instance, cpu) (
                irate(node_cpu_seconds_total{instance="c1:9100", cpu="1", mode="idle"}[5m])
                or irate(node_cpu_seconds_total{instance="c2:9100", cpu="2",mode="idle"}[5m])
                or irate(node_cpu_seconds_total{instance="c3:9100", cpu="3",mode="idle"}[5m])
              )
          default: 0
          cache: true # Keep query result in memory to use later
      mapping:
        ci_ts: "ci_ts"
        id: "name"
        percore: "percore"

    loadmem:
      LML: "./loadmem_LML.xml"
      type: "loadmemnode"
      prefix: "lm"
      metrics:
        memavail:
          query: 'sum by (instance) (node_memory_MemAvailable_bytes{job="node-compute"})'
          default: 0
        memfree:
          query: 'sum by (instance) (node_memory_MemFree_bytes{job="node-compute"})'
          default: 0
        memtotal:
          query: 'sum by (instance) (node_memory_MemTotal_bytes{job="node-compute"})'
          default: 0
        cpuload:
          query: 'sum by (instance) (node_load1{job="node-compute"})'
          default: 0

################################################################################
## model_name -> .e.g "Intel (R)"
################################################################################
    model_name:
      LML: "./model_cpu_LML.xml"
      prefix: "mdcpu"
      regex: '^(.+):.*$'
      type: "node"
      metrics:
        model:
          query: max by (instance, model_name) (node_cpu_info{job="node-compute"})
          default: 0
          cache: true
      mapping:
        md_ts: "md_ts"
        model_name : "model_name"